<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>Hakan Yalçınkaya - Django</title><link href="https://hakanyalcinkaya.github.io/" rel="alternate"></link><link href="https://hakanyalcinkaya.github.io/feeds/django.atom.xml" rel="self"></link><id>https://hakanyalcinkaya.github.io/</id><updated>2018-12-15T10:20:00+01:00</updated><entry><title>Django Geolocation</title><link href="https://hakanyalcinkaya.github.io/django-geolocation.html" rel="alternate"></link><published>2018-12-15T10:20:00+01:00</published><updated>2018-12-15T10:20:00+01:00</updated><author><name>Hakan Yalçınkaya</name></author><id>tag:hakanyalcinkaya.github.io,2018-12-15:/django-geolocation.html</id><summary type="html">&lt;p&gt;&lt;a href="https://docs.djangoproject.com/en/1.10/ref/contrib/gis/geoip2/"&gt;Django Geolocation&lt;/a&gt;  ile bir Domain'in ip sinin hangi şehirde barındırıldığını veya bir IP'nin hangi şehre bağlı olduğunu öğrenebilirsiniz.&lt;/p&gt;
&lt;h2&gt;Kurulum :&lt;/h2&gt;
&lt;p&gt;Öncelikle &lt;code&gt;Django&lt;/code&gt;'nun kurulu olduğundan ve &lt;code&gt;Virtualenv&lt;/code&gt; ile çalışıyorsanız &lt;code&gt;ENV&lt;/code&gt;nin aktif olduğundan emin olun.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Django projenizde &lt;code&gt;pip install geoip2 pytz&lt;/code&gt; komutunu çalıştırın&lt;/li&gt;
&lt;li&gt;Django projenizin bulunduğu klasörün içine &lt;code&gt;geoip&lt;/code&gt; adlı bir …&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;&lt;a href="https://docs.djangoproject.com/en/1.10/ref/contrib/gis/geoip2/"&gt;Django Geolocation&lt;/a&gt;  ile bir Domain'in ip sinin hangi şehirde barındırıldığını veya bir IP'nin hangi şehre bağlı olduğunu öğrenebilirsiniz.&lt;/p&gt;
&lt;h2&gt;Kurulum :&lt;/h2&gt;
&lt;p&gt;Öncelikle &lt;code&gt;Django&lt;/code&gt;'nun kurulu olduğundan ve &lt;code&gt;Virtualenv&lt;/code&gt; ile çalışıyorsanız &lt;code&gt;ENV&lt;/code&gt;nin aktif olduğundan emin olun.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Django projenizde &lt;code&gt;pip install geoip2 pytz&lt;/code&gt; komutunu çalıştırın&lt;/li&gt;
&lt;li&gt;Django projenizin bulunduğu klasörün içine &lt;code&gt;geoip&lt;/code&gt; adlı bir klasör oluşturun. &lt;/li&gt;
&lt;li&gt;&lt;a href="http://dev.maxmind.com/geoip/geoip2/geolite2/"&gt;http://dev.maxmind.com/geoip/geoip2/geolite2/&lt;/a&gt; adresinden &lt;a href="http://geolite.maxmind.com/download/geoip/database/GeoLite2-City.mmdb.gz"&gt;City&lt;/a&gt; ve &lt;a href="http://geolite.maxmind.com/download/geoip/database/GeoLite2-Country.mmdb.gz"&gt;Country&lt;/a&gt; verilerini çekip unzip yaptıktan sonra &lt;code&gt;geoip&lt;/code&gt; klasörüne bu dosyaları atın.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;settings.py&lt;/code&gt; dosyanıza &lt;code&gt;GEOIP_PATH = os.path.join(BASE_DIR, "geoip")&lt;/code&gt; ayarını ekleyin.&lt;/li&gt;
&lt;li&gt;Artık test edebilirsiniz ;)&lt;/li&gt;
&lt;/ol&gt;
&lt;h3&gt;Django Shell Test:&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;django.contrib.gis.geoip2&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;GeoIP2&lt;/span&gt;
&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;g&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;GeoIP2&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;g&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;city&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;78.188.177.1&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;city&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="sa"&gt;u&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Istanbul&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;postal_code&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="bp"&gt;None&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;longitude&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mf"&gt;28.9684&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;country_code&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="sa"&gt;u&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;TR&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;latitude&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mf"&gt;41.0214&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;country_name&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="sa"&gt;u&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Turkey&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;region&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="sa"&gt;u&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;34&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;dma_code&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="bp"&gt;None&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</content><category term="['geolocation'"></category><category term="'django']"></category></entry></feed>